<!-- Modal Template -->
<div class="modal-overlay">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h5 class="modal-title">Update Personal Information</h5>
      <button type="button" class="btn-close" (click)="close()"></button>
    </div>
    <div class="modal-body">
      <!-- Personal Information Form -->
      <form [formGroup]="personalForm" (ngSubmit)="sendData()" (click)="$event.stopPropagation()" class="container">
        <div class="row">
          <!-- First Name -->
          <div class="col-md-6 form-group">
            <label for="firstname">First Name <span class="text-danger">*</span></label>
            <input type="text" id="firstname" formControlName="firstname" class="form-control"
              [placeholder]="'Enter your first name' | titlecase" appTitleCase />
            <div class="error-message">
              <span
                *ngIf="personalForm.get('firstname')?.invalid && (personalForm.get('firstname')?.touched || personalForm.get('firstname')?.dirty)">
                <span *ngIf="personalForm.get('firstname')?.errors?.['required']">First Name is required.</span>
                <span *ngIf="personalForm.get('firstname')?.errors?.['pattern']">First Name must be at least 4 characters.</span>
              </span>
            </div>
          </div>

          <!-- Midle Name -->
          <!-- <div class="col-md-6 form-group">
            <label for="middlename">Middle Name
              <span class="text-danger"></span>
            </label>
            <input type="text" id="middlename" formControlName="middlename" class="form-control"
              [placeholder]="'Enter your middle name' | titlecase" appTitleCase />
      
            <div class="error-message">
              <span
                *ngIf="personalForm.get('middlename')?.invalid && (personalForm.get('middlename')?.touched || personalForm.get('middlename')?.dirty)">
                <span *ngIf="personalForm.get('middlename')?.errors?.['pattern']">Middle Name can only contain letters
                  and
                  spaces</span>
                <span
                  *ngIf="!personalForm.get('middlename')?.errors?.['pattern'] && personalForm.get('middlename')?.errors?.['minlength']">Middle
                  Name must be at least 3 characters.</span>
              </span>
            </div>
          </div> -->
          <div class="col-md-6 form-group">
            <label for="middlename">Middle Name</label>
            <input type="text" id="middlename" formControlName="middlename" class="form-control"
              [placeholder]="'Enter your middle name' | titlecase" appTitleCase />
            <div class="error-message">
              <span *ngIf="personalForm.get('middlename')?.invalid &&
             (personalForm.get('middlename')?.touched || personalForm.get('middlename')?.dirty)">
                <span *ngIf="personalForm.get('middlename')?.errors?.['pattern']">
                  Middle Name must be at least 3 letters.
                </span>
              </span>
            </div>
          </div>

          <!-- Last Name -->
          <!-- <div class="col-md-6 form-group">
            <label>Last Name <span class="text-danger">*</span></label>
            <input type="text" formControlName="lastname" class="form-control"
              [placeholder]="'Enter your last name' | titlecase" appTitleCase />
            <div class="error-message">
              <span
                *ngIf="personalForm.get('lastname')?.invalid && (personalForm.get('lastname')?.touched || personalForm.get('lastname')?.dirty)">
                <span *ngIf="personalForm.get('lastname')?.errors?.['pattern']">Only letters and spaces allowed.</span>
                <span
                  *ngIf="!personalForm.get('lastname')?.errors?.['pattern'] && personalForm.get('lastname')?.errors?.['minlength']">Must
                  be at least 3 characters.</span>
                <span *ngIf="personalForm.get('lastname')?.errors?.['required']">Last Name is required.</span>
              </span>
            </div>
          </div> -->
          <div class="col-md-6 form-group">
            <label>Last Name <span class="text-danger">*</span></label>
            <input type="text" formControlName="lastname" class="form-control"
              [placeholder]="'Enter your last name' | titlecase" appTitleCase />
            <div class="error-message">
              <span *ngIf="personalForm.get('lastname')?.invalid && 
             (personalForm.get('lastname')?.touched || personalForm.get('lastname')?.dirty)">
                <span *ngIf="personalForm.get('lastname')?.errors?.['required']">Last Name is required.</span>
                <span *ngIf="personalForm.get('lastname')?.errors?.['pattern']">
                Last Name must be at least 4 characters.
                </span>
              </span>
            </div>
          </div>

          <!-- Gender -->
          <div class="col-md-6 form-group">
            <label>Gender <span class="text-danger">*</span></label>
            <div>
              <label><input type="radio" formControlName="gender" value="Male" />Male</label>
              <label><input type="radio" formControlName="gender" value="Female" />Female</label>
            </div>
            <!-- Error message with fixed height -->
            <div class="error-message">
              <span
                *ngIf=" personalForm.get('gender')?.invalid && (personalForm.get('gender')?.touched || personalForm.get('gender')?.dirty)">
                <span *ngIf="personalForm.get('gender')?.errors?.['required']"> Gender is required.
                </span>
              </span>
            </div>
          </div>

          <div class="col-md-6 form-group">
            <label for="dob">
              Date of Birth <span class="text-danger">*</span>
            </label>
            <input type="date" id="dob" formControlName="dob" class="form-control"
              placeholder="Enter your date of birth" />
            <div class="error-message">
              <span
                *ngIf="personalForm.get('dob')?.invalid && (personalForm.get('dob')?.touched || personalForm.get('dob')?.dirty)">
                <span *ngIf="personalForm.get('dob')?.errors?.['required']">Date of Birth is required.</span>
                <span *ngIf="personalForm.get('dob')?.errors?.['underage']">You must be 18 years or older.</span>
              </span>
            </div>
          </div>

          <!-- <div class="col-md-6 form-group">
            <label for="fathersOrSpousesName">Father's/Spouse's Full Name <span class="text-danger">*</span></label>
            <input type="text" id="fathersOrSpousesName" formControlName="fathersOrSpousesName" class="form-control"
              [placeholder]="'Enter Father/Spouse Name'| titlecase" appTitleCase />
        
            <div class="error-message">
              <span *ngIf="
                        personalForm.get('fathersOrSpousesName')?.invalid &&
                        (personalForm.get('fathersOrSpousesName')?.touched || personalForm.get('fathersOrSpousesName')?.dirty)
                      ">
   
                <span *ngIf="personalForm.get('fathersOrSpousesName')?.errors?.['pattern']">
                  Father's/Spouse's Name can only contain letters and spaces
                </span>
                <span *ngIf="!personalForm.get('fathersOrSpousesName')?.errors?.['pattern'] &&
                            personalForm.get('fathersOrSpousesName')?.errors?.['minlength']">
                  Name must be at least 5 characters.
                </span>
                <span *ngIf="!personalForm.get('fathersOrSpousesName')?.errors?.['pattern'] &&
                            !personalForm.get('fathersOrSpousesName')?.errors?.['minlength'] &&
                            personalForm.get('fathersOrSpousesName')?.errors?.['required']">
                  Father's/Spouse's Name is required.
                </span>
              </span>
            </div>
          </div> -->
          <div class="col-md-6 form-group">
            <label for="fathersOrSpousesName">Father's/Spouse's Full Name <span class="text-danger">*</span></label>
            <input type="text" id="fathersOrSpousesName" formControlName="fathersOrSpousesName" class="form-control" [placeholder]="'Enter Father/Spouse Name' | titlecase" appTitleCase />
            <div class="error-message">
              <span *ngIf="personalForm.get('fathersOrSpousesName')?.invalid && (personalForm.get('fathersOrSpousesName')?.touched || personalForm.get('fathersOrSpousesName')?.dirty)">
                <span *ngIf="personalForm.get('fathersOrSpousesName')?.errors?.['pattern']">Father's/Spouse's Name at least 5 letters</span>
                <span *ngIf="personalForm.get('fathersOrSpousesName')?.errors?.['required']"> Father's/Spouse's Name is required.</span>
              </span>
            </div>
          </div>

          <div class="col-md-6 form-group">
            <label for="highestQualification">Highest Qualification <span class="text-danger">*</span></label>
            <select id="highestQualification" formControlName="highestQualification" class="form-control">
              <option value="">----Select Highest Qualification----</option>
              <option value="High School">High School</option>
              <option value="Under Graduate">Under Graduate</option>
              <option value="Graduate">Graduate</option>
              <option value="Post Graduate">Post Graduate</option>
              <option value="Doctorate">Doctorate</option>
            </select>

            <!-- Error message with fixed height -->
            <div class="error-message">
              <span *ngIf="
                  personalForm.get('highestQualification')?.invalid &&
                  (personalForm.get('highestQualification')?.touched || personalForm.get('highestQualification')?.dirty)
                ">
                <span *ngIf="personalForm.get('highestQualification')?.errors?.['required']">
                  Highest Qualification is required.
                </span>
              </span>
            </div>
          </div>


          <div class="col-md-6 form-group">
            <label for="adhaarNumber">Aadhaar Number <span class="text-danger">*</span></label>
            <input type="text" id="adhaarNumber" formControlName="adhaarNumber" class="form-control"
              [placeholder]="'Enter Aadhaar Number'| titlecase" />
            <!-- Error message with fixed height -->
            <div class="error-message">
              <span
                *ngIf=" personalForm.get('adhaarNumber')?.invalid && (personalForm.get('adhaarNumber')?.touched || personalForm.get('adhaarNumber')?.dirty)">
                <span *ngIf="personalForm.get('adhaarNumber')?.errors?.['pattern']">
                  Aadhaar Number must be exactly 12 digits.
                </span>
                <span *ngIf="personalForm.get('adhaarNumber')?.errors?.['required']">
                  Aadhaar Number is required.
                </span>
              </span>
            </div>
          </div>
        </div>

        <!-- Submit Button -->
        <!-- Submit and Cancel Buttons -->
        <div class="form-group mt-3 d-flex justify-content-end">
          <button type="button" class="btn btn-secondary custom-btn me-2" (click)="close()">Cancel</button>
          <button type="submit" class="btn btn-primary custom-btn">Submit</button>
        </div>
      </form>
    </div>
  </div>
</div>


<!-- Modal Template -->
<!-- <div class="modal-overlay" (click)="close()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h5 class="modal-title">Personal Information</h5>
      <button type="button" class="btn-close" (click)="close()"></button>
    </div>
    <div class="modal-body">
      <p>personal information</p>
    </div>
  </div>
</div> -->


<!-- First Name -->
<!-- <div class="col-md-6 form-group">
            <label>First Name <span class="text-danger">*</span></label>
            <input type="text" formControlName="firstname" class="form-control"
              [placeholder]="'Enter your first name'| titlecase" appTitleCase />
            <div class="error-message">
              <span
                *ngIf="personalForm.get('firstname')?.invalid && (personalForm.get('firstname')?.touched || personalForm.get('firstname')?.dirty)">
                <span *ngIf="personalForm.get('firstname')?.errors?.['pattern']">Only letters and spaces allowed.</span>
                <span
                  *ngIf="!personalForm.get('firstname')?.errors?.['pattern'] && personalForm.get('firstname')?.errors?.['minlength']">Must
                  be at least 3 characters.</span>
                <span *ngIf="personalForm.get('firstname')?.errors?.['required']">First Name is required.</span>
              </span>
            </div>
          </div> -->


<!-- Date of Birth -->
<!-- <div class="col-md-6 form-group">
            <label for="dob">
              Date of Birth <span class="text-danger">*</span>
            </label>
            <input type="date" id="dob" formControlName="dob" class="form-control"  />
         
            <div class="error-message">
              <span *ngIf="personalForm.get('dob')?.invalid && 
                          (personalForm.get('dob')?.touched || personalForm.get('dob')?.dirty)">
                <span *ngIf="personalForm.get('dob')?.errors?.['required']">
                  Date of Birth is required.
                </span>
                <span *ngIf="personalForm.get('dob')?.errors?.['pattern']">
                  Invalid date format.
                </span>
                <span *ngIf="personalForm.get('dob')?.errors?.['underage']">
                  You must be 18 years or older.
                </span>
              </span>
            </div>
          </div> -->

<!-- <div class="col-md-6 form-group">
            <label for="highestQualification">Highest Qualification <span class="text-danger">*</span></label>
            <input type="text" id="highestQualification" formControlName="highestQualification" class="form-control"
              placeholder="Enter Highest Qualification" />
           
            <div class="error-message">
              <span *ngIf="
                        personalForm.get('highestQualification')?.invalid &&
                        (personalForm.get('highestQualification')?.touched || personalForm.get('highestQualification')?.dirty)
                      ">
                <span *ngIf="personalForm.get('highestQualification')?.errors?.['pattern']">
                  Highest Qualification can only contain letters and spaces
                </span>
                <span *ngIf="personalForm.get('highestQualification')?.errors?.['required']">
                  Highest Qualification is required.
                </span>
              </span>
            </div>
          </div> -->